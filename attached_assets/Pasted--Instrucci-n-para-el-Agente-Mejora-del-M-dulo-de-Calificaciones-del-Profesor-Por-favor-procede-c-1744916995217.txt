üß† Instrucci√≥n para el Agente: Mejora del M√≥dulo de Calificaciones del Profesor
Por favor, procede con las siguientes tareas para ampliar la funcionalidad del M√≥dulo de Calificaciones del Profesor:

‚úÖ 1. Agregar Comentarios Opcionales por Calificaci√≥n
Objetivo: Permitir a los docentes agregar observaciones personalizadas a cada calificaci√≥n registrada.

Acciones:

Base de Datos:

Verifica si la tabla grades tiene el campo comentario (tipo text o varchar).

Si no existe, realiza una migraci√≥n para agregarlo como un campo opcional (nullable).

Backend:

Actualiza las rutas relacionadas (getGradesByStudent, getGradesByGroupAndSubject, getGrade, updateGradeBatch, createGrade) para aceptar y devolver el campo comentario.

Ajusta los esquemas de validaci√≥n (zod) para incluir el campo comentario como opcional (string | null).

Frontend:

En la tabla editable de calificaciones, a√±ade una nueva columna llamada Comentario con celdas editables.

Permitir al docente escribir comentarios cortos (m√°ximo 300 caracteres).

Aseg√∫rate de que se guarde correctamente al presionar Enter o al cambiar de celda.

üìú 2. Mostrar Historial de Cambios
Objetivo: Permitir a los docentes consultar qui√©n modific√≥ una calificaci√≥n y cu√°ndo.

Acciones:

Backend:

Verifica que la tabla gradeHistory registre:

ID del docente

Fecha del cambio

Calificaci√≥n anterior

Calificaci√≥n nueva

Grupo, materia y alumno asociados

Exp√≥n una nueva API:

GET /api/grades/history/:teacherId

(Opcional: incluir filtros por grupo o materia)

Frontend:

Agrega una secci√≥n o bot√≥n en la vista de calificaciones que diga: ‚ÄúVer Historial‚Äù.

Al hacer clic, mostrar un modal o tabla con:

Alumno

Materia

Cambio realizado

Fecha

Docente (si aplica)

Ordenar de forma descendente por fecha.

‚ú® 3. Validaciones UX/UI
Objetivo: Prevenir errores de captura o env√≠os incompletos.

Validar que:

La calificaci√≥n est√© entre 0 y 10

El comentario no exceda 300 caracteres

Mostrar alertas si el usuario intenta guardar sin completar todos los campos requeridos.

Mantener los colores y estilo del sistema actual para los nuevos componentes.

Cuando termines, por favor confirma lo siguiente:

Que el campo comentario se guarda correctamente.

Que el historial es visible y est√° vinculado al ID del usuario.

Que no hay errores visibles en consola ni fallos de validaci√≥n en los nuevos formularios.

Gracias por tu trabajo. Seguimos mejorando este sistema para ofrecer una experiencia s√≥lida para docentes y administrativos.