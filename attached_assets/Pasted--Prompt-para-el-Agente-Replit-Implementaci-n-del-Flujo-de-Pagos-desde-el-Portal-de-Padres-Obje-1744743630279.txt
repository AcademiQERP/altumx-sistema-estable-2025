âœ… Prompt para el Agente Replit â€“ ImplementaciÃ³n del Flujo de Pagos desde el Portal de Padres
ğŸ¯ Objetivo: Habilitar la opciÃ³n para que los padres de familia puedan realizar el pago de colegiaturas, inscripciones y otros conceptos directamente desde la secciÃ³n de Estado de Cuenta en el portal de padres.

ğŸ§© 1. Nueva funcionalidad a implementar
AÃ±adir un botÃ³n "Pagar ahora" al lado de cada concepto de pago con estado pendiente en la secciÃ³n /portal-padres/estado-cuenta.

Al hacer clic, abrir un modal de confirmaciÃ³n de pago, mostrando:

Nombre del alumno

Concepto (ej. â€œColegiatura Abril 2025â€)

Monto total

Fecha lÃ­mite

MÃ©todo de pago (opciones: Tarjeta de dÃ©bito/crÃ©dito, Transferencia, SPEI)

ğŸ’³ 2. Proceso de pago
Integrar con [Stripe / Conekta / OpenPay] (elige el gateway mÃ¡s adecuado o simula el flujo con un endpoint temporal de prueba).

Validar el pago en frontend.

Registrar el pago en la base de datos en la tabla pagos con:

ID del usuario (padre/tutor)

ID del alumno

Concepto pagado

Fecha del pago

Monto pagado

MÃ©todo

Estado: completado

ğŸ“„ 3. Recibo y actualizaciÃ³n automÃ¡tica
Una vez realizado el pago:

Cambiar el estado del concepto a pagado en adeudos.

Generar un recibo PDF con folio Ãºnico, similar a los ya generados en el sistema.

Enviar el recibo al email del tutor registrado.

Mostrar confirmaciÃ³n en pantalla: "âœ… Pago realizado correctamente. Recibo enviado al correo."

ğŸ§  4. IA contextual (si ya estÃ¡ activada)
Si el usuario entra al portal y tiene conceptos pendientes:

Sugerir mediante el asistente contextual:
"Hola, notamos que tienes pagos pendientes. Â¿Te gustarÃ­a saldar el adeudo de Ana GarcÃ­a por $4200 correspondiente a abril?"

BotÃ³n: [Pagar ahora] â†’ lo redirige al modal de pago directamente.

ğŸ§ª 5. Ambiente de pruebas
Inicia usando un entorno de prueba para la pasarela de pagos.

Simula los mÃ©todos y verifica que se genera el PDF, se actualiza el estado y se registra correctamente el movimiento.

ğŸ Bonus
TambiÃ©n puedes preparar una API interna tipo /api/pagos/procesar para recibir y registrar los pagos, y dejarla lista para integrarse despuÃ©s con una app mÃ³vil o el asistente IA.