ğŸ“Œ InstrucciÃ³n al Agente Replit
ğŸ› ï¸ Tarea: Iniciar implementaciÃ³n del mÃ³dulo /admin/reportes-financieros

âœ… Objetivo:
Construir un Panel de Reportes Financieros para administradores, con KPIs, filtros, tablas y un botÃ³n que genera un resumen automatizado con IA (Claude).

ğŸ“ Ruta:
/admin/reportes-financieros

ğŸ”’ Acceso: Solo roles admin y coordinador

1. ğŸ”¹ DiseÃ±o General del MÃ³dulo
Componentes principales:

a) Resumen Financiero (tarjetas tipo KPI):
Total recaudado este mes

Total adeudado vigente

Porcentaje de cumplimiento (recaudado vs esperado)

Concepto mÃ¡s pagado

Grupo con mayor morosidad

b) Filtros dinÃ¡micos
AÃ±o escolar

Mes

Grupo

Concepto de pago

c) GrÃ¡ficas
ğŸ“Š RecaudaciÃ³n mensual (grÃ¡fico de barras o lÃ­nea)

ğŸ§¾ DistribuciÃ³n de ingresos por concepto

ğŸ‘¥ Tabla de deudores por alumno (nombre, grupo, monto, Ãºltimo pago)

2. ğŸ§  Resumen Inteligente con Claude AI
Agregar botÃ³n flotante o dentro del panel:

"ğŸ§  Generar Resumen con IA"

Al hacer clic:
Recolectar los datos actuales visibles (totales, grÃ¡ficos, alumnos)

Llamar al endpoint POST /api/ai/resumen-financiero

Enviar estructura tipo:

json
Copiar
Editar
{
  "mes": "abril",
  "totalRecaudado": 125000,
  "totalAdeudado": 24000,
  "porcentajeCumplimiento": 83.8,
  "grupoMoroso": "3Â°A",
  "conceptoTop": "Colegiatura",
  "topDeudores": [
    { "nombre": "Luis PÃ©rez", "monto": 5200 },
    { "nombre": "Ana RamÃ­rez", "monto": 4800 }
  ]
}
Claude debe devolver un resumen profesional, claro y con recomendaciones accionables.

ğŸ“„ El resultado debe mostrarse en un modal con opciÃ³n a copiar, cerrar o exportar como PDF (fase posterior).

ğŸ§  Prompt IA sugerido
plaintext
Copiar
Editar
Eres un asistente financiero escolar. Analiza estos datos de cobranza y genera un resumen ejecutivo. EnfÃ³cate en:

- RecaudaciÃ³n del mes
- Cumplimiento de pagos
- Grupos o alumnos con riesgo
- Conceptos mÃ¡s pagados
- Recomendaciones claras para administraciÃ³n

Usa un tono profesional y preciso.
ğŸ§© Consideraciones TÃ©cnicas
Utilizar useQuery para cargar datos desde /api/payments/summary, /api/debts, etc.

Crear nuevo endpoint /api/ai/resumen-financiero si aÃºn no existe

Reutilizar estilos ya implementados en mÃ³dulos como Recordatorios o Panel de Riesgo

De ser posible, dejar lista la base para filtros reutilizables por periodo, grupo, aÃ±o escolar